# Preset: Seq2Seq (T5) with local JSONL pairs (offline-friendly).

model:
  id: "t5-small"
  adapter: "hf_t5"
  device: "auto"

dataset:
  provider:
    kind: "local_jsonl_pairs"
    # JSONL lines must include string keys: source and target
    path: "data/seq2seq_pairs"
    src_field: "source"
    tgt_field: "target"
  split: "validation"
  seq_len: 256
  stride: 256
  preview_n: 64
  final_n: 64
  seed: 42

eval:
  metric:
    kind: "ppl_seq2seq"
  loss:
    type: "seq2seq"

edit:
  name: "noop"
  plan: {}

auto:
  enabled: true
  tier: "balanced"
  probes: 0

guards:
  order: ["invariants", "spectral", "rmt", "variance", "invariants"]

output:
  dir: "runs"
  save_model: false
  save_report: true
